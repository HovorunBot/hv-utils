repos:
  - repo: local
    hooks:
      - id: copyright-header
        name: copyright header
        entry: uv run --locked --group dev python -m tools.copyright_header
        language: system
        pass_filenames: false
      - id: format
        name: format (ruff)
        entry: uv run --locked --group dev ruff format .
        language: system
        pass_filenames: false
      - id: ruff
        name: ruff
        entry: uv run --locked --group dev ruff check --fix .
        language: system
        pass_filenames: false
      - id: mypy
        name: mypy
        entry: uv run --locked --group dev mypy --cache-dir .mypy_cache src tests
        language: system
        pass_filenames: false
      - id: tests-py312
        name: tests (py3.12)
        entry: uv run --locked --python 3.12 --group dev pytest
        language: system
        pass_filenames: false
      - id: tests-py313
        name: tests (py3.13)
        entry: uv run --locked --python 3.13 --group dev pytest
        language: system
        pass_filenames: false
      - id: tests-py314
        name: tests (py3.14)
        entry: uv run --locked --python 3.14 --group dev pytest
        language: system
        pass_filenames: false
      - id: restore-python
        name: restore python to 3.12
        language: system
        entry: uv sync --locked --python 3.12
        pass_filenames: false
  - repo: https://github.com/compilerla/conventional-pre-commit
    rev: v3.1.0
    hooks:
      - id: conventional-pre-commit
        stages: [commit-msg]
